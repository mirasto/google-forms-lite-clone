fragment QuestionFields on Question {
  id
  text
  type
  required
  options {
    id
    value
  }
}

fragment FormFields on Form {
  id
  title
  description
  questions {
    ...QuestionFields
  }
}

query GetForms {
  forms {
    id
    title
    description
  }
}

query GetForm($id: ID!) {
  form(id: $id) {
    ...FormFields
  }
}

query GetResponses($formId: ID!) {
  responses(formId: $formId) {
    id
    formId
    answers {
      questionId
      values
    }
  }
}

mutation CreateForm($title: String!, $description: String, $questions: [QuestionInput!]!) {
  createForm(title: $title, description: $description, questions: $questions) {
    ...FormFields
  }
}

mutation SubmitResponse($formId: ID!, $answers: [AnswerInput!]!) {
  submitResponse(formId: $formId, answers: $answers) {
    id
    formId
  }
}
